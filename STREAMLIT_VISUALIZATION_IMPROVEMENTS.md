# ğŸ“Š Streamlitå¯è§†åŒ–å±•ç¤ºæ”¹è¿›æŠ¥å‘Š

## ğŸ¯ æ”¹è¿›ç›®æ ‡

è§£å†³åŸå§‹Streamlitå±•ç¤ºä¸­çš„é—®é¢˜ï¼š
- **é—®é¢˜**: ä¸Šè¯æŒ‡æ•°å’Œæ‹›å•†é“¶è¡Œä»·æ ¼æ›²çº¿æ··åœ¨ä¸€èµ·ï¼Œéš¾ä»¥åŒºåˆ†
- **åŸå› **: ä¸¤è€…ä»·æ ¼é‡çº§ä¸åŒï¼ˆä¸Šè¯æŒ‡æ•°~3000ç‚¹ï¼Œæ‹›å•†é“¶è¡Œ~30-40å…ƒï¼‰
- **å½±å“**: æ— æ³•æ¸…æ¥šçœ‹åˆ°ä¸Šè¯æŒ‡æ•°çš„èµ°åŠ¿å˜åŒ–

## âœ… è§£å†³æ–¹æ¡ˆ

### 1. **åˆ†ç¦»ä»·æ ¼å±•ç¤º**
- **ç¬¬1è¡Œ**: æ‹›å•†é“¶è¡Œä»·æ ¼èµ°åŠ¿ + äº¤æ˜“ä¿¡å·
- **ç¬¬2è¡Œ**: ä¸Šè¯æŒ‡æ•°èµ°åŠ¿ï¼ˆç‹¬ç«‹æ˜¾ç¤ºï¼‰
- **ç¬¬3è¡Œ**: å½’ä¸€åŒ–æ”¶ç›Šç‡å¯¹æ¯”
- **ç¬¬4è¡Œ**: æŒä»“å˜åŒ–
- **ç¬¬5è¡Œ**: ç°é‡‘æµå˜åŒ–

### 2. **æ•°æ®åŠ è½½ä¼˜åŒ–**
```python
# ä¿®æ”¹å‰ï¼šåªåŠ è½½ä¸€ä¸ªæ•°æ®æ–‡ä»¶
price_data = load_price_data()

# ä¿®æ”¹åï¼šåŒæ—¶åŠ è½½æ‹›å•†é“¶è¡Œå’Œä¸Šè¯æŒ‡æ•°æ•°æ®
cmb_data, index_data = load_price_data()
```

### 3. **å›¾è¡¨å¸ƒå±€é‡æ„**
```python
# æ–°çš„5è¡Œå¸ƒå±€
subplot_titles=(
    'æ‹›å•†é“¶è¡Œä»·æ ¼èµ°åŠ¿ä¸äº¤æ˜“ä¿¡å·',     # ç¬¬1è¡Œ
    'ä¸Šè¯æŒ‡æ•°èµ°åŠ¿',                   # ç¬¬2è¡Œ  
    'æ”¶ç›Šç‡å¯¹æ¯” (æ‹›å•†é“¶è¡Œ vs ä¸Šè¯æŒ‡æ•° vs T0ç­–ç•¥)',  # ç¬¬3è¡Œ
    'æŒä»“å˜åŒ–',                       # ç¬¬4è¡Œ
    'ç°é‡‘æµå˜åŒ–'                      # ç¬¬5è¡Œ
)
```

## ğŸ“ˆ å¯è§†åŒ–å±‚æ¬¡ç»“æ„

### ğŸ¦ **ç¬¬1å±‚ï¼šæ‹›å•†é“¶è¡Œä»·æ ¼åˆ†æ**
- **Kçº¿å›¾**: å®Œæ•´çš„OHLCæ•°æ®
- **ç§»åŠ¨å¹³å‡çº¿**: MA20 (è“è‰²) + MA60 (æ©™è‰²)
- **äº¤æ˜“ä¿¡å·**: 
  - ğŸ”º ä¹°å…¥ä¿¡å· (çº¢è‰²ä¸‰è§’å‘ä¸Š)
  - ğŸ”» å–å‡ºä¿¡å· (ç»¿è‰²ä¸‰è§’å‘ä¸‹)
- **æ‚¬åœä¿¡æ¯**: äº¤æ˜“ä»·æ ¼ã€æ•°é‡ã€æ—¶é—´

### ğŸ“Š **ç¬¬2å±‚ï¼šä¸Šè¯æŒ‡æ•°åŸºå‡†**
- **Kçº¿å›¾**: ç‹¬ç«‹çš„ä¸Šè¯æŒ‡æ•°èµ°åŠ¿
- **ç§»åŠ¨å¹³å‡çº¿**: MA20 (æµ…è“) + MA60 (æµ…é»„)
- **ä½œç”¨**: æä¾›å¸‚åœºæ•´ä½“èµ°åŠ¿å‚è€ƒ

### ğŸ“‰ **ç¬¬3å±‚ï¼šæ”¶ç›Šç‡å¯¹æ¯”**
- **æ‹›å•†é“¶è¡Œæ¶¨è·Œå¹…**: è“è‰²å®çº¿
- **ä¸Šè¯æŒ‡æ•°æ¶¨è·Œå¹…**: çº¢è‰²å®çº¿  
- **T0ç­–ç•¥æ”¶ç›Šç‡**: ç»¿è‰²è™šçº¿
- **å½’ä¸€åŒ–åŸºå‡†**: ä»¥æœŸåˆä»·æ ¼ä¸º100%åŸºå‡†

### ğŸ“¦ **ç¬¬4å±‚ï¼šæŒä»“ç›‘æ§**
- **æŒä»“æ•°é‡**: æ©™è‰²çº¿ + æ ‡è®°ç‚¹
- **å˜åŒ–è½¨è¿¹**: æ˜¾ç¤ºT0äº¤æ˜“çš„ä»“ä½è°ƒæ•´

### ğŸ’° **ç¬¬5å±‚ï¼šç°é‡‘æµåˆ†æ**
- **ç°é‡‘ä½™é¢**: ç´«è‰²çº¿ + æ ‡è®°ç‚¹
- **èµ„é‡‘ä½¿ç”¨**: åæ˜ äº¤æ˜“èµ„é‡‘å ç”¨æƒ…å†µ

## ğŸ¨ è§†è§‰è®¾è®¡ä¼˜åŒ–

### é¢œè‰²æ–¹æ¡ˆ
- **æ‹›å•†é“¶è¡Œ**: è“è‰²ç³» (ä¸»è¦æ ‡çš„)
- **ä¸Šè¯æŒ‡æ•°**: çº¢è‰²ç³» (å¸‚åœºåŸºå‡†)
- **T0ç­–ç•¥**: ç»¿è‰²ç³» (ç­–ç•¥æ”¶ç›Š)
- **æŒä»“**: æ©™è‰²ç³» (ä»“ä½ç®¡ç†)
- **ç°é‡‘**: ç´«è‰²ç³» (èµ„é‡‘æµ)

### äº¤äº’åŠŸèƒ½
- **æ—¥æœŸèŒƒå›´é€‰æ‹©**: ä¾§è¾¹æ æ—¥æœŸé€‰æ‹©å™¨
- **æ‚¬åœè¯¦æƒ…**: é¼ æ ‡æ‚¬åœæ˜¾ç¤ºè¯¦ç»†ä¿¡æ¯
- **å›¾ä¾‹æ§åˆ¶**: ç‚¹å‡»å›¾ä¾‹éšè—/æ˜¾ç¤ºæ•°æ®ç³»åˆ—
- **ç¼©æ”¾å¹³ç§»**: æ”¯æŒå›¾è¡¨ç¼©æ”¾å’Œå¹³ç§»æ“ä½œ

## ğŸ“Š æŠ€æœ¯å®ç°ç»†èŠ‚

### æ•°æ®å¤„ç†
```python
# åŒæ—¶åŠ è½½ä¸¤ä¸ªæ•°æ®æº
cmb_data = pd.read_csv("data/fixed_processed/SH600036.csv")  # æ‹›å•†é“¶è¡Œ
index_data = pd.read_csv("data/fixed_processed/SH000001.csv")  # ä¸Šè¯æŒ‡æ•°

# æ—¥æœŸèŒƒå›´è¿‡æ»¤
cmb_filtered = cmb_data[(cmb_data['datetime'].dt.date >= start_date) & 
                        (cmb_data['datetime'].dt.date <= end_date)]
index_filtered = index_data[(index_data['datetime'].dt.date >= start_date) & 
                           (index_data['datetime'].dt.date <= end_date)]
```

### å½’ä¸€åŒ–è®¡ç®—
```python
# è®¡ç®—å½’ä¸€åŒ–æ”¶ç›Šç‡
cmb_base_price = cmb_filtered['close'].iloc[0]
cmb_filtered['normalized_price'] = (cmb_filtered['close'] / cmb_base_price - 1) * 100

index_base_price = index_filtered['close'].iloc[0]
index_filtered['normalized_price'] = (index_filtered['close'] / index_base_price - 1) * 100
```

### å›¾è¡¨é…ç½®
```python
# 5è¡Œå­å›¾å¸ƒå±€
fig = make_subplots(
    rows=5, cols=1,
    shared_xaxes=True,
    vertical_spacing=0.03,
    row_heights=[0.3, 0.25, 0.25, 0.1, 0.1]
)
```

## ğŸ¯ ç”¨æˆ·ä½“éªŒæå‡

### 1. **æ¸…æ™°çš„ä¿¡æ¯å±‚æ¬¡**
- æ¯ä¸ªå›¾è¡¨æœ‰æ˜ç¡®çš„æ ‡é¢˜å’Œç”¨é€”
- ä¸åŒæ•°æ®ä½¿ç”¨ä¸åŒçš„é¢œè‰²å’Œæ ·å¼
- Yè½´æ ‡ç­¾æ˜ç¡®æ ‡æ³¨å•ä½

### 2. **ç›´è§‚çš„å¯¹æ¯”åˆ†æ**
- æ‹›å•†é“¶è¡Œ vs ä¸Šè¯æŒ‡æ•°çš„èµ°åŠ¿å¯¹æ¯”
- T0ç­–ç•¥æ”¶ç›Š vs å¸‚åœºè¡¨ç°å¯¹æ¯”
- å½’ä¸€åŒ–æ˜¾ç¤ºæ¶ˆé™¤ä»·æ ¼é‡çº§å·®å¼‚

### 3. **å®Œæ•´çš„äº¤æ˜“ä¿¡æ¯**
- äº¤æ˜“ä¿¡å·åœ¨ä»·æ ¼å›¾ä¸Šæ¸…æ™°æ ‡æ³¨
- æŒä»“å’Œç°é‡‘æµå˜åŒ–å®æ—¶æ˜¾ç¤º
- ç­–ç•¥æ”¶ç›Šæ›²çº¿ä¸å¸‚åœºåŸºå‡†å¯¹æ¯”

## ğŸ“ˆ å±•ç¤ºæ•ˆæœ

### æ”¹è¿›å‰
- âŒ ä¸Šè¯æŒ‡æ•°å’Œæ‹›å•†é“¶è¡Œä»·æ ¼æ··åœ¨ä¸€èµ·
- âŒ æ— æ³•çœ‹æ¸…ä¸Šè¯æŒ‡æ•°çš„å®é™…èµ°åŠ¿
- âŒ ä»·æ ¼é‡çº§å·®å¼‚å¯¼è‡´æ˜¾ç¤ºä¸æ¸…

### æ”¹è¿›å  
- âœ… æ‹›å•†é“¶è¡Œå’Œä¸Šè¯æŒ‡æ•°åˆ†åˆ«ç‹¬ç«‹æ˜¾ç¤º
- âœ… æ¸…æ¥šçœ‹åˆ°ä¸¤è€…çš„ä»·æ ¼èµ°åŠ¿å·®å¼‚
- âœ… å½’ä¸€åŒ–å¯¹æ¯”æ˜¾ç¤ºç›¸å¯¹è¡¨ç°
- âœ… å®Œæ•´çš„5å±‚ä¿¡æ¯å±•ç¤º
- âœ… ç›´è§‚çš„ç­–ç•¥æ•ˆæœè¯„ä¼°

## ğŸš€ ä½¿ç”¨æ–¹æ³•

1. **å¯åŠ¨åº”ç”¨**:
   ```bash
   streamlit run streamlit_app.py
   ```

2. **é€‰æ‹©æ—¥æœŸèŒƒå›´**: ä½¿ç”¨ä¾§è¾¹æ çš„æ—¥æœŸé€‰æ‹©å™¨

3. **æŸ¥çœ‹åˆ†æ**: 
   - ç¬¬1è¡Œï¼šæ‹›å•†é“¶è¡Œä»·æ ¼ + äº¤æ˜“ä¿¡å·
   - ç¬¬2è¡Œï¼šä¸Šè¯æŒ‡æ•°èµ°åŠ¿
   - ç¬¬3è¡Œï¼šä¸‰è€…æ”¶ç›Šç‡å¯¹æ¯”
   - ç¬¬4-5è¡Œï¼šæŒä»“å’Œç°é‡‘æµ

4. **äº¤äº’æ“ä½œ**: 
   - æ‚¬åœæŸ¥çœ‹è¯¦ç»†ä¿¡æ¯
   - ç¼©æ”¾æŸ¥çœ‹ç‰¹å®šæ—¶é—´æ®µ
   - ç‚¹å‡»å›¾ä¾‹æ§åˆ¶æ˜¾ç¤º

## ğŸ‰ æ€»ç»“

é€šè¿‡è¿™æ¬¡æ”¹è¿›ï¼ŒStreamlitå¯è§†åŒ–å±•ç¤ºç°åœ¨èƒ½å¤Ÿï¼š

1. **æ¸…æ™°åˆ†ç¦»**ä¸åŒæ•°æ®æºçš„å±•ç¤º
2. **ç›´è§‚å¯¹æ¯”**ç­–ç•¥è¡¨ç°ä¸å¸‚åœºåŸºå‡†
3. **å®Œæ•´å±•ç¤º**T0äº¤æ˜“çš„å…¨è¿‡ç¨‹
4. **ç”¨æˆ·å‹å¥½**çš„äº¤äº’å¼åˆ†æç•Œé¢

è¿™ä¸ºT0äº¤æ˜“ç­–ç•¥çš„åˆ†æå’Œä¼˜åŒ–æä¾›äº†å¼ºå¤§çš„å¯è§†åŒ–æ”¯æŒï¼ğŸ¯
